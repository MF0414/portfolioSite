{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = withUtils;\n\nfunction withUtils(router, options) {\n  router.urlToPath = urlToPath;\n  router.buildUrl = buildUrl;\n  router.matchUrl = matchUrl;\n\n  function buildUrl(route, params) {\n    var base = options.base || '';\n    var prefix = options.useHash ? '#' + options.hashPrefix : '';\n    var path = router.buildPath(route, params);\n    if (path === null) return null;\n    return base + prefix + path;\n  }\n\n  function urlToPath(url) {\n    var match = url.match(/^(?:http|https):\\/\\/(?:[0-9a-z_\\-.:]+?)(?=\\/)(.*)$/);\n    var path = match ? match[1] : url;\n    var pathParts = path.match(/^(.+?)(#.+?)?(\\?.+)?$/);\n    if (!pathParts) throw new Error('[router5] Could not parse url ' + url);\n    var pathname = pathParts[1];\n    var hash = pathParts[2] || '';\n    var search = pathParts[3] || '';\n    return (options.useHash ? hash.replace(new RegExp('^#' + options.hashPrefix), '') : options.base ? pathname.replace(new RegExp('^' + options.base), '') : pathname) + search;\n  }\n\n  function matchUrl(url) {\n    return router.matchPath(urlToPath(url));\n  }\n}","map":null,"metadata":{},"sourceType":"script"}