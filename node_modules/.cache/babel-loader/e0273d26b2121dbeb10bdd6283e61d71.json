{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Dumb functions\n */\n// istanbul ignore next\n\nvar identity = function identity(arg) {\n  return function () {\n    return arg;\n  };\n}; // istanbul ignore next\n\n\nvar noop = function noop() {};\n/**\n * Browser detection\n */\n\n\nvar isBrowser = typeof window !== 'undefined' && window.history;\n/**\n * Browser functions needed by router5\n */\n\nvar getBase = function getBase() {\n  return window.location.pathname;\n};\n\nvar supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\nvar pushState = function pushState(state, title, path) {\n  return window.history.pushState(state, title, path);\n};\n\nvar replaceState = function replaceState(state, title, path) {\n  return window.history.replaceState(state, title, path);\n};\n\nvar addPopstateListener = function addPopstateListener(fn, opts) {\n  var shouldAddHashChangeListener = opts.useHash && !supportsPopStateOnHashChange();\n  window.addEventListener('popstate', fn);\n\n  if (shouldAddHashChangeListener) {\n    window.addEventListener('hashchange', fn);\n  }\n\n  return function () {\n    window.removeEventListener('popstate', fn);\n\n    if (shouldAddHashChangeListener) {\n      window.removeEventListener('hashchange', fn);\n    }\n  };\n};\n\nvar getLocation = function getLocation(opts) {\n  var path = opts.useHash ? window.location.hash.replace(new RegExp('^#' + opts.hashPrefix), '') : window.location.pathname.replace(new RegExp('^' + opts.base), ''); // Fix Frefox issue with non encoded pipe characters\n\n  var correctedPath = path.replace(/\\|/g, '%7C');\n  return (correctedPath || '/') + window.location.search;\n};\n\nvar getState = function getState() {\n  return window.history.state;\n};\n\nvar getHash = function getHash() {\n  return window.location.hash;\n};\n/**\n * Export browser object\n */\n\n\nvar browser = {};\n\nif (isBrowser) {\n  browser = {\n    getBase: getBase,\n    pushState: pushState,\n    replaceState: replaceState,\n    addPopstateListener: addPopstateListener,\n    getLocation: getLocation,\n    getState: getState,\n    getHash: getHash\n  };\n} else {\n  // istanbul ignore next\n  browser = {\n    getBase: identity(''),\n    pushState: noop,\n    replaceState: noop,\n    addPopstateListener: noop,\n    getLocation: identity(''),\n    getState: identity(null),\n    getHash: identity('')\n  };\n}\n\nexports.default = browser;","map":null,"metadata":{},"sourceType":"script"}